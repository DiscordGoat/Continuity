package goat.minecraft.minecraftnew.subsystems.gravedigging.corpses;

import goat.minecraft.minecraftnew.subsystems.fishing.Rarity;
import org.bukkit.Material;
import org.bukkit.event.Listener;

import java.util.*;
import java.util.stream.Collectors;

/**
 * Registry for all Corpse definitions and weighted random selection.
 */
public class CorpseRegistry implements Listener {
    private static final List<Corpse> CORPSES = new ArrayList<>();
    private static final Map<Rarity, Double> RARITY_WEIGHTS = new LinkedHashMap<>();
    private static final Random RANDOM = new Random();

    static {
        RARITY_WEIGHTS.put(Rarity.COMMON, 0.50);
        RARITY_WEIGHTS.put(Rarity.UNCOMMON, 0.30);
        RARITY_WEIGHTS.put(Rarity.RARE, 0.12);
        RARITY_WEIGHTS.put(Rarity.EPIC, 0.06);
        RARITY_WEIGHTS.put(Rarity.LEGENDARY, 0.02);

        // COMMON
        CORPSES.add(new Corpse("Farmer Corpse", Rarity.COMMON, 30,
                Material.IRON_HOE, false, new ArrayList<>(), "ewogICJ0aW1lc3RhbXAiIDogMTczMTE0Nzg0MzkwOSwKICAicHJvZmlsZUlkIiA6ICIwZWQ2MDFlMDhjZTM0YjRkYWUxZmI4MDljZmEwNTM5NiIsCiAgInByb2ZpbGVOYW1lIiA6ICJOZWVkTW9yZUFjY291bnRzIiwKICAic2lnbmF0dXJlUmVxdWlyZWQiIDogdHJ1ZSwKICAidGV4dHVyZXMiIDogewogICAgIlNLSU4iIDogewogICAgICAidXJsIiA6ICJodHRwOi8vdGV4dHVyZXMubWluZWNyYWZ0Lm5ldC90ZXh0dXJlL2ZiMGZkNjBkNzIyNDE5YTc4NTdmNzI4NmMyM2Y3MmMyMTkzMzAzOGZjNDE0MDQ5Y2RlNjU2ZjRlODMyOGU1NDYiCiAgICB9CiAgfQp9", "ZFRyKAh0LSBpIkxynEsM7kvtuwSAbMvqVXE7vZFSQ76GFTQYzqQ2jiK0YG6FlZt5CzgC8wnvEKlqy2i8DW9AyIASYa2cYA+9xjqLucA9v0u3vsg5dqzK8lc04jfU1P2stipCZgzK4h5s63FLbJr8DltJgMu3f9fEmCPhk4DlsAODKSp0//xVPiSZtSXj/7cUM2KVQbeAkpKwpytrHyMqJ7RCsHDsMr+8zWW470w+335lIPwfX9R9xLkKzJCM7AarF7q/N5sNTn7QDR7J1SyHYo7dW4qOCjSCELVPZhNCu3nvVu1Gq7FMSer5VtA6KvLp+YQ6sTD75gpEtZTJRwM8w9uK3v1a6RZF4x+/VfEmMoUo6gqNzxmNtfsLM7VJjW9KiYkv+X1C+PgiAQ45KyQjh107AQG9YGC/mye+NLh424gn3Y5Mvib/uVvBPNor6YAaccrHuj87OsBX7jNSPmb7vjID8DjJGjXKeLdK/rC4cX3/XVvPxepx5uYGwZQxSxIk9EtrLiNLmy+6zVvRm2sOv967aksCykGVTmP9reoDOQGlqlIXnJlrCvvZkvDQHhttmR5rssGg7JMP3+1ydVvroPC0t/0sub0cUrkADrTo0xebEeyanvpQYX5ZNsYTNqjFetygvfFSh8cUgxIboxTWAHhnGi+Pwf+9+hQYaNZ7zyw="));
        CORPSES.add(new Corpse("Guard Corpse", Rarity.COMMON, 35,
                Material.IRON_SWORD, false, new ArrayList<>(), "ewogICJ0aW1lc3RhbXAiIDogMTczMTU3NTI3NjYwMSwKICAicHJvZmlsZUlkIiA6ICIwNDg0N2ZjNWM5YjY0NTQ1YjI1ZWJkYmJiNzdjNjg2NSIsCiAgInByb2ZpbGVOYW1lIiA6ICJuYXFsdWEiLAogICJzaWduYXR1cmVSZXF1aXJlZCIgOiB0cnVlLAogICJ0ZXh0dXJlcyIgOiB7CiAgICAiU0tJTiIgOiB7CiAgICAgICJ1cmwiIDogImh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvM2UxODk0ZDIzZjgxNTM5ZDkzNjY2Mzk0MjllZTE4NmFkMmI1ZDUyMmFmZGRkOTgxMDRkZDkzY2FmODhlYjNiYyIKICAgIH0KICB9Cn0=", "qV0UBw6pHIeUwpr+qEVCueQskeuqT3KNYfOewEgE3o9tDDhQRgMWg/ykibhEj3+wOrk18BWqM3ucmcI0qnB9s7UygVolHdo01br+dbkGFJdZjHiQXtXo6IeeCtmFbTrvzBUtwdNpOmktu3bh1jOGIHyxpI4HHlTSZnE+EaoX9cc1Qxohtw3F+4er4NnMXiQy38967wF7dASxJENMtWiNuOpVEDfMjqL5kYAv3kiYGvMqi0jkp+bj478QJl70B44fZ/WbxUMjk1x/5XKNFjeTQ1exKlLUiw1qc9eTLdcmWwMMZiBCk/sr+JuPlf10Zrs1N+RTmokJ/5UxjY4DbyuwE7S+8FAtk5e5/e8vF53TnQUvoVXNdo/7cVefOSqml/W5y7EFdRXf38M8O2C7qSjcNxbBbVND84L5M5MZ8kQ9zrI2qNAutzCaaYfmoqjc8C2RzKycAF2D0f9uOPlNflDVLLM4wUHiRqIW6QXzkwEJdFhFLxmA3X5BBmAAZW3jO8nAF1t38UzNDs6ChXE0R0iFHv7sT0HTRwFv9tZjVMJPC7kNLZITYyi0l/C8R7JeK/cKnqhx0/QW9hS2McWEsqBc4CtBJ8BYyHRVZJlqYV9PCWxEeOCCh50GpmRODKE4Ff4QZ7OaqvzqLA87vQ+r2VdublJGaNR4XULOzM62cepgQ/c="));
        CORPSES.add(new Corpse("Sniper", Rarity.COMMON, 40,
                Material.IRON_SWORD, true, new ArrayList<>(), "ewogICJ0aW1lc3RhbXAiIDogMTY3MDM4MzM2NDE3NywKICAicHJvZmlsZUlkIiA6ICIxNjczZWExMjczZjk0ZDVhOGMzYTY2YWM0OWI3Y2QwNyIsCiAgInByb2ZpbGVOYW1lIiA6ICJFdWdlbmVfUmljaHRlciIsCiAgInNpZ25hdHVyZVJlcXVpcmVkIiA6IHRydWUsCiAgInRleHR1cmVzIiA6IHsKICAgICJTS0lOIiA6IHsKICAgICAgInVybCIgOiAiaHR0cDovL3RleHR1cmVzLm1pbmVjcmFmdC5uZXQvdGV4dHVyZS9kZGE2ZTVlNThiMTU4NzU2NjEzMzRmYzRjMzY0NzEyYmM0Y2FkYjA2OGRiNjgxZWJmOTJkZDFhZWI2Njk5OTBhIgogICAgfQogIH0KfQ==", "rVHwc+uTiIWbsa5SHstnLenl6h25fP/oJBKfOoXwMp9Jfi6s2Xd+NnXRC+AxszVg992DQHvVRUQybomZ79v7Q7ZvHMFtYvPTG19y23EBBsUE5GZzSbOiVePnuFOmel5dVACHIH8PJ/XcdygdlfKVsHYRnqqEMQG7dYDiio6A94Gf9XdBGa9ejUTj+OZ626Zc7nCE4GiioU7DQAv0wtF6kRSbZqMVqgp4mnVGb6fhF4jQxQX/VM587aoDwio6R0XYCiQGpuNBtnedrWBR9jt1E95dbw8gJd2aEKaOfOocGgrC+uh2dAC/q8NFQv+1pPih31CK8xHGXYbNCE+Uacf/nCe3r+wb2dej/So1jKifH1+Yru/KReK8UplAp6sU+xUYg04NC4urvySp6wGmVK2Zcmb2ReCbQb4e5QcScxfrOssystbhL39dB4inHD15hukVwUfLSmri5wsIXHTApI/oa6Vxvw4W5ndEtWtEB/UWYDmRyIKDTx/qwVKjf7bZ0UMr3eoe8zKCzYZERkgpTv25nHAr31aSIoVOXuOAj5/Dc7cq+s5ervyDU2uha7B+Y7inQskoydVlNHnbWHP711vA6pDYFykyl+fcgHvFcPkBZe3AwgY6YVVXjRe3/sN+7SRK1cbcWnvKNR7Fm+yzTJG2CX0yxZNQxLUAJXle+lMCxwU="));

        // UNCOMMON
        CORPSES.add(new Corpse("Diver Corpse", Rarity.UNCOMMON, 50,
                Material.IRON_SWORD, false, new ArrayList<>(), "ewogICJ0aW1lc3RhbXAiIDogMTc1MjI5NTMxODk1OSwKICAicHJvZmlsZUlkIiA6ICJhNzdkNmQ2YmFjOWE0NzY3YTFhNzU1NjYxOTllYmY5MiIsCiAgInByb2ZpbGVOYW1lIiA6ICIwOEJFRDUiLAogICJzaWduYXR1cmVSZXF1aXJlZCIgOiB0cnVlLAogICJ0ZXh0dXJlcyIgOiB7CiAgICAiU0tJTiIgOiB7CiAgICAgICJ1cmwiIDogImh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvYzkxNTVmYzZjNTM3NTBhNjVlZDc0NTk4NjJiN2E4MDNlODdiM2FkYzczNzg2NmU0ZjU1NzNhZmFiOWRiM2M1ZiIKICAgIH0KICB9Cn0=", "WSGoyR4hZtLze2rI+7DZTsgqI4+DiEjt2BeYtfHBaNJ/EhwbDrO2J/CjcrJO/Xv+ETK234/Sf0YNanMMfAObs6OyhYerpDMlneKl3jzAErApI46mswIrhz2G7z4VWHhjJLQycTvUe1aYQ2gO0a9j4aLNncHkBB9qw1s24lxBezzF0YkuU1gCihJav/QiOBKt+hFy+cdp1JuBpRNWU/RhLCUUSBCvKlp8TtVxZ839j2JXgPXEkyziX9gMJ2rsWcUxuUsfxXyBO0EpauoFmO7cuvJ4hLahT83/Vt8jqr0m1cmpiE0jc6xzOECdNjQKeiLAFnAv6KVyXBpY79FzIbXQ/czeDLodk6EfR8a9Tpkn0THh/rfTR53fryEyzdHuKPk9udLmDruzW41+WPmbzRacEMpkbVwd/P33oP9BPRqmtZUll4SW09bHt3n1o44VB12tYfrkl6gp6eRIM6JkjK/mPBa2Utkm35wKanHvlJtXpYsm2fbei/nX0CYINr3EpmU5mDfBCguK2GqRjYu3b3hHNHw4vBB7csfV1yOu6UN7cj2n+IEtt+CJ/z2UpnU1a/OSK2KEI3gI+yi8ItVPvLRNVISCe9HRIRF+UGXaHW78UuV+osZ/sr7xsxUJ9Wl+ecar2QVSvX2cyIHkYVAQcFvpbZ3Q8Npn3F87sjKteteZ64U="));
        CORPSES.add(new Corpse("Fisherman Corpse", Rarity.UNCOMMON, 55,
                Material.FISHING_ROD, false, new ArrayList<>(), "ewogICJ0aW1lc3RhbXAiIDogMTc0MjExOTI3MTI3MywKICAicHJvZmlsZUlkIiA6ICI2NDg4Y2VjMjc4OGQ0MTI2OTk5NWMyMmY4OTdmMzA4OSIsCiAgInByb2ZpbGVOYW1lIiA6ICJBc3BlbjA1MyIsCiAgInNpZ25hdHVyZVJlcXVpcmVkIiA6IHRydWUsCiAgInRleHR1cmVzIiA6IHsKICAgICJTS0lOIiA6IHsKICAgICAgInVybCIgOiAiaHR0cDovL3RleHR1cmVzLm1pbmVjcmFmdC5uZXQvdGV4dHVyZS9mYjIwYmI3NzU4M2JhOTZmMDNkYWMwMGIyYTVhMTUzOTRlMDg4NDcyNzliY2QzNDZmMmM5MzcyZTFjODQwYjU2IgogICAgfQogIH0KfQ==", "VHUf7saq6VfgU6SxAyedMKVNTEWwu7fCbGSvwYAJ5HNZqx0KtpdnYDB0Cy5+Pivcg6PSo5Oanbk9LCTSdjJh5m4ag+utVymaHpvrj6jaCqdIHa9ygriESiVJFj6eyCFQneALr+LiqBwfUu6dJVqqrin2Xj6dbo0xD90rWlgI1gjiXcjquyOCe9ko8uVd79Q3ANJauPMGVRTczeCzw+PWv8OWXmWlYc21LrQAyb6rMpcrIlbG3qztC1Ut37qvsgFx4vw6APFS0j98d50GzLl4Va7eUKnl7yNl/QhiRM5/rGxB2vp4M9qTbd4wGL0ywe/WxTMEQaX0lYqwTCcNogSQkN++oEp7EKTLVqchjkDOgpHjEL5EV41joXUs30uIbg/C1M/lNkpZMpcm8zBSNXl+J1mK7I+lBdmeqRoZbR2gIbl2ewg2nFoNHBByfbVkNBk3HCMNGZpiAuhYRasUGNJIGkCbN0GqPcFMbfmse225T2/ZJgFm1tScfbushi73mNl+s/vDdidxJJw6T0p0LuZYAmFL+ODp+z5feYdMNgZN3B6rsbH+YrGkr5vvRd/VzYQURtHodTet+5sVRwCr3leeXYAunH8NO3wes42LUqMKvZXxvfinPmQXVE7sFkTqC0r5RcMLJPwUtJqOczO+JEe2d6j1B91eUcRTMvmdup6sA5s="));
        CORPSES.add(new Corpse("Lumberjack Corpse", Rarity.UNCOMMON, 60,
                Material.IRON_AXE, false, new ArrayList<>(), "ewogICJ0aW1lc3RhbXAiIDogMTc1MjI5NTQyNzYyNiwKICAicHJvZmlsZUlkIiA6ICI3MDYwMDk0OTgyZDc0MTczYTNjZjg1Zjc1NjQ3MGE5YiIsCiAgInByb2ZpbGVOYW1lIiA6ICJpbmV4YWN0b3N0ZW50YXQiLAogICJzaWduYXR1cmVSZXF1aXJlZCIgOiB0cnVlLAogICJ0ZXh0dXJlcyIgOiB7CiAgICAiU0tJTiIgOiB7CiAgICAgICJ1cmwiIDogImh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvZjIwOWQxNDFiODE5MjdiNTY5YzZjZDFkNGZlNWRjYTMxMjUzY2UyMDUyZjI2MjY3Y2VkNTRjODM0MTI4MTNjOCIKICAgIH0KICB9Cn0=", "IRC3vgF5R87Kl0Bc8ZI0yT03wxAAMIOnraQbXTchc0RxFYKYiIZJcbUyGG0K9fBAWDUaRVLqngX/DumtfapVGyhibrL+uVNizpV2xbR6iK4N6v9R9SByPikeL9+TFDarOWP0Iwcztb4GGMhbRtRy+48pgMEqOptVPKtXezB7rNNxBrV5ubFrihd+VPs8Um32hhUeAcFdOvhor8jEORLxgdZElVVck8yA59VO3iIrvQA7zRvwQkIFUB/8RwFyFbXkqEO77rM9otw7CgyxnRkDSD0mYQULYjdAxBlZXsnPYJKdaBHFsAPrDE1t+Q3W+w+fxqv2VmW0F6Pl26VVVwD64Le9GKzpr45t6gkVUg4ER8aQE6ygAHizSHArPB+q46dHZj8zMoKndFHfCJxzSGtTi6D21ZZ5J+r3zpv+ntM6yFAhWtsKI+9lhY4I4xXB7YSxXvJghn1HBC4hXM21wZ+kbvWW44vpAF0Prz0VRmsRAT3rxgHbxQcJ/KpHGx7LEW06PDOovCsyaDRpH6zpADBJxtqigDcNNxweRhHJvHxltr8qGtZ+VWyTpUeXXI2jsjQxs67qtlMP3jJdDioLpV0BnzjErWnZ6hkW3M8l+QqrQgEV9j8N/lFVIR31dErcVsAqr+e9Ld8chSu2JBfbZAiiJFnqFbKM0fwrENxgazD1siI="));

        // RARE
        CORPSES.add(new Corpse("Adventurer Corpse", Rarity.RARE, 70,
                Material.DIAMOND_SWORD, false, new ArrayList<>(), "ewogICJ0aW1lc3RhbXAiIDogMTY1NzQ5MTA5ODYwMCwKICAicHJvZmlsZUlkIiA6ICJkYmQyYjU4N2VjMWY0ZTgxYTNkOGFlODM5OWJiMDFjMCIsCiAgInByb2ZpbGVOYW1lIiA6ICJjYXRzaW5zcGFjZWUiLAogICJzaWduYXR1cmVSZXF1aXJlZCIgOiB0cnVlLAogICJ0ZXh0dXJlcyIgOiB7CiAgICAiU0tJTiIgOiB7CiAgICAgICJ1cmwiIDogImh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvMzkxYTg5Mjk1ZTBjMzRiMmJmNTA0ZmQ3MTZmNzRiZTBiZGFhOTc0YmY3NzVjNmNlOWM5ZmFhZmFkMmUxYTAxZiIKICAgIH0KICB9Cn0=", "iiIgDDzSMHwF7Ax/BicBzatUWjmUPQhvmCHLTfMlBqnD9zx27IouXmf/W+5owAzQdWpJDmT+QEm1a2jTad12gDcTfxNJRj6LMT4+/BxCk3d2Rs7U18R+vO9d/cug8bl5nh5L7Q1vDAfTXfLh69aUMDaUJShWGdAPXkRYFrOxgbxh3KxTS0Jx73Fi6v5BXzph/67mNa2N1Vc/LckWNZwpqJgx+NCViOolvATaG4SU83sKyywVLHgk9QZ21SFrGK7eMgJhmYn09ZX9tGRProIoWNauPQuLqzZlpiqPNub8go3GdTGGohBRZbu++BaYzc7VWcsgOfmUt7L07VMHaymN+a0J2S0sXMrYye5zQVmVtnz+f/C9lYM440BTRXnbHa5BkFs3h0siSlEsip2zqKcGuKfLV5Ms3RGs7wLXZJgrK0IpSrD7AxObU4b8RG7E4lg8oM+KQFmzH8C/bik1v4PJsiKtfOdtsln2ovTp+vBNpHU43XyhL+9LQIADylz9JgUpyQilsg5KE9TpMCsusg5FCDF2Ep+F/Z/Z3KOigur6UGFQEMYT5rpT1M8I+SrFlWXLMmC82WMW3dlpl4Q5BVsVtPk44ePkrG+vhEG6VI0sbhrtsTfBXZWl0SnAjW657IUZ62T12HwLvJ1L0S6UiOH+QQzCWaH9WnFhErYflIhFalE="));
        CORPSES.add(new Corpse("Pirate Corpse", Rarity.RARE, 75,
                Material.IRON_SWORD, false, new ArrayList<>(), "ewogICJ0aW1lc3RhbXAiIDogMTc1MjI5NTU1MzIzMCwKICAicHJvZmlsZUlkIiA6ICI1MDMyYTA2NWQ5MWQ0NTgyYjZmODM0MDRlMGYyOTA4MiIsCiAgInByb2ZpbGVOYW1lIiA6ICJNYWNCb29rUHJvTTIiLAogICJzaWduYXR1cmVSZXF1aXJlZCIgOiB0cnVlLAogICJ0ZXh0dXJlcyIgOiB7CiAgICAiU0tJTiIgOiB7CiAgICAgICJ1cmwiIDogImh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvNTFhZmU5ZTQ3MWY3ZDQ2NDE2NjNkNWJhZTc5NWJiNWU4NDczMTc2ZTVlNzY0ZDE1MjdkODliMGZiZDRkMjFjMCIsCiAgICAgICJtZXRhZGF0YSIgOiB7CiAgICAgICAgIm1vZGVsIiA6ICJzbGltIgogICAgICB9CiAgICB9CiAgfQp9", "ZuqdiUS8mdKRAaYkfwr1+q+R6mWkdQWC3oqrOE/yp14zJnHJ1RKiF/BX5m5Nqw4FMnkK5waEKhK3xpFF2DLFR3osllUrNvCcst6DSWAPdGneBXsgwCozlfS3ShWr4N4TmNU9AfJKcHR8t2QGDwVw62YK0MU3ZsdgvbQqbYHeR3gs8cXl0Z2ON7l0ZNlIcvaOR1DpcN9p4sDZxycWypB1cIgPWSOAcg30VjKQ4I0Rn1n8/hwsRIWr8zPyf5/0k9065ynWY6ofECl2uM0KsX6FfznrB1ElcBb+hIaOTIjnVrruz/5ppUMGQWd0SGIpcnXmCz1jd0OpPbuP1K0LL5LMRobIEZkuim/kDgQvbq7G21CMTTYeqG/TLyrAIVkywVK7LcWlNagj+OZNXk4gNBYBxNbdUbJ7n+DB/zqC2GUlhGwo6gWqO6wYjQqchdkwsZFxRRcv7K4VUs1snxNe+CVPmcQJSejfDJDezq8d2xtjqIHINDVuuaKZ9nlg2TpHZ3mEihjcCTUuxW/+Uo2jndi6cCDaYZEZq3SfgF8WtSUkKgo0X8465tjqvNsbAQQQsIMpG/2GFfj9Qb9lmX0JdiNI9z9mFBt3EM+e3Iy4pT7t0pKDbg6MdncJ/FBg+9wVcZxIEv9lYMlFNPHZv1ewhOZ9kmCSlDSWzHzOh64yPbXEEZc="));
        CORPSES.add(new Corpse("Sculk Infected", Rarity.RARE, 80,
                Material.WOODEN_SWORD, false, new ArrayList<>(), "ewogICJ0aW1lc3RhbXAiIDogMTc0NjQ1MTA0NTMyMSwKICAicHJvZmlsZUlkIiA6ICIxNTY3ODg4YTAwYWY0ODc2YjYyNTI3YTNiOGY3YTdlYSIsCiAgInByb2ZpbGVOYW1lIiA6ICJUb3NoaW9YdHJlbWUiLAogICJzaWduYXR1cmVSZXF1aXJlZCIgOiB0cnVlLAogICJ0ZXh0dXJlcyIgOiB7CiAgICAiU0tJTiIgOiB7CiAgICAgICJ1cmwiIDogImh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvM2M1ZjVlOTg0ZmU4Yjc3MGQ4YjgxY2Y3ZjU2ZmFlZDQ4NjM0YmNkYmYzYzg0ZTE2MmFkZDZlMGUyY2I5MzkwNiIKICAgIH0KICB9Cn0=", "uIwA9vH1yAjJowNR5LieoPzzjwjnEwe6NSwRPtSSN+Gw6iYb4alE9AGwQBeLjbAr1dcjxEihDUP7cxtswHJRfUmeS/7Bh+6esHaNyNXNKBSGswd9UsZQihhwNlwNm7EEVUQK7zwK1Efkx/Veiva61S/OvCHBTRaUpzWIWWWDTYAPPOR6hT2tGp+fkpH1eugFemWQLmQNzlma7MF7ockSmecusTt4EbPe0lYpKyHDV3Ex/j+AJAVLi87RHF5y2wewCv2sK+Kehs/b+9zL0yUC/AAtcp1hTKOrfvPTaroDn6RTBkcy0KhpDvWdfXLYAVh2ngRQVd2w2gITfkHqD8mtWK4VYkISpGDF/SyL0Gd86dBsoHgNtC2m8VSXRj3wveCb4uyk65GtyXPNXhVdmygz2IHTJrtjzL30KnEhNR6eTEvWTZmEc+isPhRUtIa85mFTdstmjVGr3i1JLCyaj7c4hDiOI4PE9TjYjjrnHO9QtqBAjMUTnP0Fj6rEFwKzxRZw2dbWzYy1kNYtMCHu5jJwBrmuvsLAIHOS+OEmRiYeAJrguX7oMJZf+BY78RIhVDxhDJze7+dZXJg5xbh7tSDtjONY+3u8E8K9xqEh1W5JygqhT5bW5BdZBefby4EKfp7uYbD1ozaigEp3hVIbIalahEdoIjdTfZaWNd2R+Ab/9pg="));

        // EPIC
        CORPSES.add(new Corpse("Necromancer Corpse", Rarity.EPIC, 90,
                Material.GOLDEN_SWORD, false, new ArrayList<>(), "ewogICJ0aW1lc3RhbXAiIDogMTYyMTM0Mjc3NDU0NywKICAicHJvZmlsZUlkIiA6ICI5MWZlMTk2ODdjOTA0NjU2YWExZmMwNTk4NmRkM2ZlNyIsCiAgInByb2ZpbGVOYW1lIiA6ICJoaGphYnJpcyIsCiAgInNpZ25hdHVyZVJlcXVpcmVkIiA6IHRydWUsCiAgInRleHR1cmVzIiA6IHsKICAgICJTS0lOIiA6IHsKICAgICAgInVybCIgOiAiaHR0cDovL3RleHR1cmVzLm1pbmVjcmFmdC5uZXQvdGV4dHVyZS8zMmU2ZTQ1MTAwZDMzZGMwNzIwMThjNTU4YWI0OTI1NTVkYTU0NGRiMmM0MGQ2NGEyNjZlMmU1OWQ3NTBmNjQ2IgogICAgfQogIH0KfQ==", "LO//m5FZGKGCFU79hjkFikptIXAVNknGQeiNJqbkcrzVRwfE/ZbbkPcpHH9hwXPtdVpa0bDSVSRSznIDKZ/rmCdbfQuba3lprig0unotz1iPxVe/NhTx1zVV0qSxdpR9v1yXky3E6WGigI/fhSkQfYLwcrEd94rXxvRwOP37/wVg387ZeWL9heHrxmQzo8+DWyWYmddHKIQrrTjIPmOytef6GkklKO9OQPa1z80NPChv9X3wujpWwy0L0xA3yB5jYu/TcCvgBx2bGf1SygEL4G72Rsmkgp0Y6pID2wPjkD/Uje7iexdohD/VCFlEv73v2lcirUbb6ikKvyleAhIviJKuoPY4uMEe/o7DhC9NGbhxmEREt5Mnz0Z34kf6s8TOYscKDwMg+1df54nHGpXcQ5srRqmhbF4QQdAWIoEyGpP2qizflcke2Sx/VcGPTSTfBCLrawif9Olh5gbRY91bVr1JMjleEtJi3VvqJjUKSp+Z6bTsTBI3UMF1wuYF6RMrmRtjDt5CqmAAGzBHA6LfMwS+9H8ZggEnqi7NwAujiZgQkHinzH31Li6bXlodi7+2FWmvTtvZR7r+3NjjYyG5c50rmD3psBE9sJxD+go8q37nbpLeb4vrlhkxelkPBf2TqMXfFhPFbZdm68qgiT1P2h5vKF7HgvyRgOzXvxfsAPM="));
        CORPSES.add(new Corpse("Gladiator Corpse", Rarity.EPIC, 100,
                Material.NETHERITE_SWORD, false, new ArrayList<>(), "ewogICJ0aW1lc3RhbXAiIDogMTczNzMxNzYzOTUxMywKICAicHJvZmlsZUlkIiA6ICI0OWIzODUyNDdhMWY0NTM3YjBmN2MwZTFmMTVjMTc2NCIsCiAgInByb2ZpbGVOYW1lIiA6ICJiY2QyMDMzYzYzZWM0YmY4IiwKICAic2lnbmF0dXJlUmVxdWlyZWQiIDogdHJ1ZSwKICAidGV4dHVyZXMiIDogewogICAgIlNLSU4iIDogewogICAgICAidXJsIiA6ICJodHRwOi8vdGV4dHVyZXMubWluZWNyYWZ0Lm5ldC90ZXh0dXJlLzEyOGQyZWRmMGU5YTExYTQ5MmQzNmI1N2Y5MjNlOTNhNjBlODA0ODYzNzJiMjRmZjBmNTJmNDYwYmQzOWI5ZDYiCiAgICB9CiAgfQp9", "PbiIcpjg2l2s1ML9i+tN1i74cCa8ogfm0ge04HTqL7883VC1R0Vuhb6rdLc5Is5C9y4bOMu2HHFA3WwAWWu4ybfXSZbrZX4/Eu7E06O2uV4K0GR0Ngn9mE2zg+Y4CnyFJ3j1vhObLrzwuglMighDQ4lKMuEeE7jr7h9S4KP0ghwunjbQY/BaC7nKbNZRthUKZ/cWvjorUhWIiViuWusx66ruqe0y6Iq9W9Fu+i5p7xSsWoGgU7hVTT3dOSwSbiR/9RwBIg5MUW0xL81IV+Uf3Uq2kNaHKnyL0NhrESza5OLuAgv41L31ovA8lPohHP3JEPEJLEjrvsGjaxnaSR/aoSTPhEKL/qES9DyQdVK23h9mgERkhA1yCzZ5L+GOMRw/cuijfzqkt5zGv6RHR9AlstBw4DE8+ZGov5O2NyT/pNaK0eYeVIaCDN2gta5J2aespoZoSNzAAT3PQD87rXIfIYlMFQFF3Z4QrVttRYWIi3gM5Lnjs6Aq8a1qZCN24pvHcthCHSLn4aTkqOhXzYgdu9U1rbtWNgO8YGiJiDSW9xqEkFW6ttc0ezC3SYNPUw0fsEYpua15I20o7dSB9AfJ/n0S1PCu5D3/Zco6rvCD6kNs1C67yob8YxIHLdD46PGuVo4QwWEE+EFC42B/f18srBUwmcOlqmfKIj8jF6r7EwI="));
        CORPSES.add(new Corpse("Duskblood", Rarity.EPIC, 110,
                Material.STONE_SWORD, false, new ArrayList<>(), "ewogICJ0aW1lc3RhbXAiIDogMTY0OTQ1MTgwOTI5NSwKICAicHJvZmlsZUlkIiA6ICIwMGZiNTRiOWI4NDA0YTA0YTViMmJhMzBlYzBlYTAxMiIsCiAgInByb2ZpbGVOYW1lIiA6ICJrbGxveWQ3MCIsCiAgInNpZ25hdHVyZVJlcXVpcmVkIiA6IHRydWUsCiAgInRleHR1cmVzIiA6IHsKICAgICJTS0lOIiA6IHsKICAgICAgInVybCIgOiAiaHR0cDovL3RleHR1cmVzLm1pbmVjcmFmdC5uZXQvdGV4dHVyZS85ZDg5YTJlMDMxOTU1MmQzZThlZGJmMDUyMzFiYzdmOTAyOGNmZmZhODE0MWUzZjQ0ZDI0MDg1MjQ4ZTQ4YzI2IiwKICAgICAgIm1ldGFkYXRhIiA6IHsKICAgICAgICAibW9kZWwiIDogInNsaW0iCiAgICAgIH0KICAgIH0KICB9Cn0=", "VVltUGWst4Q8iJjLB+PwJifh4DbTLV28TpOvAEg59jnX4vOl5QidddDqE1ESXSXrn04kEG/B5XJctkj6XqXwmDjI0Fa5F+d7K25ekM6ibGvko5bR9bUvaXxaEmPps5bhkDiyYJg5PkPnkGaiNWcSjPEMldAQdvPgPRZ5oz3lOrfIzdV8TZu1jOXX1gqUCcmRR45Fdtxu+8WcqaNOpy4eWSF1cc+Tc0wswN5SfExhVUQxHKP8yizED5ZzHuvo5ngbPF8JbNWuLB4OOkfLtxE5xY8mPNMGZvTySfPCVfEkz7YGs49RkVsb9wKVYqdf6Umu9SBAgsL1JQYBd65D6fE0LZ1xguNFUOBA3lPguAtU3LtU3hMkL8tswDCBKBe0ADP6dl/FqkhXL2ZdmoRYB0hWUZvj77XHh14Ae/Va1d5IsBWG//zwM2iTY8R0YeobgqOe/+Lzhhlnn59tQT4wza5z1Wmg+R8zZ10ApsNIp6IwG1kPpe/c+smMDfqLja1+onwlTX/msXbNzFtXevBl3boMtxjUO+qx9iT487UUSNnTnHhRccC/LMZ9TKJNECe1waDOyM59iUmsW0uwpqh0Qpvb0n8ZfvnDmO2sK600yG1F8obuJ9wPJUgc1CAfMp83iov7cNd70p1K0V7tRUy8Ei0QQHJuDuh4NwJ48FB4CWKJZSU="));

        // LEGENDARY
        CORPSES.add(new Corpse("Trauma", Rarity.LEGENDARY, 120,
                Material.DIAMOND_SWORD, false, new ArrayList<>(), "ewogICJ0aW1lc3RhbXAiIDogMTc1MjI5NTk4MjA4NiwKICAicHJvZmlsZUlkIiA6ICI1NGQzMzUwYWIwOTk0MTdiYWJlOTQxZDFiNzdjZTU3MCIsCiAgInByb2ZpbGVOYW1lIiA6ICJGZWludGhhIiwKICAic2lnbmF0dXJlUmVxdWlyZWQiIDogdHJ1ZSwKICAidGV4dHVyZXMiIDogewogICAgIlNLSU4iIDogewogICAgICAidXJsIiA6ICJodHRwOi8vdGV4dHVyZXMubWluZWNyYWZ0Lm5ldC90ZXh0dXJlL2EwOTIwOGEwNTk1MzVjYzFlMzM5MzQ0ZjExYTNiODYzNGFmM2RlNDE3YmE0NTQ0MGNlOTFhOTIyNTZkMTE2NzgiCiAgICB9CiAgfQp9", "fvr36Kd7qEBNmUv1jYveHS1NKkUEoijAd1eMQAtKp/0gM4C4Czx5F9gGxl65TcK1q+6QLoFpS62OnPHF78ONdjNwjoLPfGlkgv8zHwxSbDnivdkDeid7aNniebZboPOe+ToUMxsExMPyoKhE1+ffA/zYQ1TBHAkzKZQoje1gUVeIoaO+jrDwN6dKef0W4RvIA3RQeRzHYpAGQObtyFhi2iKKIkMSF4xg8bvvxKD/+E7Dt1YrllJwcko0kNsken2zeKvZGuemCx91tYUSixADojD9fYHC5X5Waq1akujVuHz6Ov3XRpzAjGjZhKeeMT6MPiPoZ2sl6cXhoChno1gl62b4JKO5K7vBqwvTUi9vTzNP0H+D6ERnWtAE/dJanngYK7+N06wfM93YHfsVhKJP7xrwXttS8bFFuE1B59yvmSD5lNrd5rbQv4VexD2/tuFNyFIDpgy1hEdeYyLPb9GH1TrVe4CrdKzA41y1FUXzCZZyjjXfbk0b2uYh+JLWQz0peFqyf7EGHvVThdFUcY70rsWqzIHO/QX5AymrIPwfd00hW36zUOFvbPVW0sw1feRIvYMrd8lAqxBQa5sul9MqLF/H29Kbqg4dtCFd7GlI0ThxvOMzLfsyrVlSgY2fRhqKkhOeyecHEOoED7DsKESCi6g+TyoivHM7qrr5rzsVbPA="));
        CORPSES.add(new Corpse("Cryptic", Rarity.LEGENDARY, 140,
                Material.DIAMOND_SWORD, true, new ArrayList<>(), "ewogICJ0aW1lc3RhbXAiIDogMTcwMjczNzMyNDQyMSwKICAicHJvZmlsZUlkIiA6ICJiOThjNGFkOGM2MjY0NGYxOWUzYzhhZTE0ZThhMDI1OSIsCiAgInByb2ZpbGVOYW1lIiA6ICJ5cnRlZGR5IiwKICAic2lnbmF0dXJlUmVxdWlyZWQiIDogdHJ1ZSwKICAidGV4dHVyZXMiIDogewogICAgIlNLSU4iIDogewogICAgICAidXJsIiA6ICJodHRwOi8vdGV4dHVyZXMubWluZWNyYWZ0Lm5ldC90ZXh0dXJlL2NlNTc5NmZiNzJiNjhlMzZkNGJmZmIzNjE4ZDczYmQzZTg5NzU1ODI3ZDRhODY2ZmQ4YTRhZGEyMzk3NzlhMTQiCiAgICB9CiAgfQp9", "qCLPpiuKzeTtxc/jTWbsCVetZZTxW7JTMMOvx92GuaMLeNm6rCCspCByA98yYffdiOs5LUxXTqi+kzyfFNQ/VhGL/BcZ/RDnvj44yhI+qu5OURQNsDNtHvdv3JjdYKXJwk2FGDX1UFOqpIb48WLdsOhvIlYfyKMgpqHK3GUXgj16I+PJNMm3e8vy6XA2+dYvu4FHepYqpYwhYssd+N2N/U4XbIrWto/9FfGXgpODnV+ibED7sA/uTmOmQGm3JvuJWAFSnMDsxtOVdfhNPVZPkj1eVjUvJVZA7llqKOkD+vnT+KB+RBBkZw/A04wU6u3xDQkZy4jLlKA/nxJe0uiBjH0ELlyLfhUdM6dsurSUqT0KuuxwrwwrWEy1EmxsQqSvy5WLau1WKmTvOM3Vb/MR3UzVeAwuXKwcoiby/vhKtdvlRKviKZ2kQq2gQzL5GMN5ls1XrQYU7YV7CO81JbDSTOdKPRaV91fXzxuFmvgH1oWPHUFAE9VGryoj7R+MgWZBpnszuz9KPpACn/zIxkiw1Cv30pKm1EQS9Vyqw/D8u4kmFtpeLVDK8WN19ukbT5yJCdvNxr/1vaO25ZSvQ36PIoZuXhz6oyloJDgfnh0QSflt//otbN2U1uigiBIbogZzWif1/sPlGMVfL/ucI71wY5cglQBhi9D3Lfff4ZvUO9Y="));
        CORPSES.add(new Corpse("Dreadnaught", Rarity.LEGENDARY, 150,
                Material.NETHERITE_SWORD, false, new ArrayList<>(), "ewogICJ0aW1lc3RhbXAiIDogMTY1Mjg5NTQzMTgzNywKICAicHJvZmlsZUlkIiA6ICIyYzEwNjRmY2Q5MTc0MjgyODRlM2JmN2ZhYTdlM2UxYSIsCiAgInByb2ZpbGVOYW1lIiA6ICJOYWVtZSIsCiAgInNpZ25hdHVyZVJlcXVpcmVkIiA6IHRydWUsCiAgInRleHR1cmVzIiA6IHsKICAgICJTS0lOIiA6IHsKICAgICAgInVybCIgOiAiaHR0cDovL3RleHR1cmVzLm1pbmVjcmFmdC5uZXQvdGV4dHVyZS9hMzEzOTIwYmRhYjBmYWExMjg5OTkyMTk1ZGM2NGEyMTQ5MDk4YjE1M2MzNWM2YmFlNzY1YmEzYjA4NDJkMWE5IgogICAgfQogIH0KfQ==", "rhPRuQN439cfE3HCYOasSRm48bXxisMVrJc+ghij5M24kCnpTjjJIRlY6T9F2Ju5UTWf2YkMJmdMeh+AKALn+RNF+fRvTLSpzjVJ9J9kqOpe8A5FR1/Uz6vrqtS3JUM5H7sZAQDyup1EVL3BbnsJpMSkhVLIjcWr/5o2rTkPAVJmzw58/Skt6KHoev+KdxDa9Npl5Uziyt68TKYgds0IAtaUHNjGRqmjuoV8LIZ1QR0Wi+KZwvxJWsQLB5tGSkYdLuLUkx42X8knK04CHx2kscGH/u+rqIp6ICmv7GlXPWvcMzjlPdbibS1gQ2xfaoG91xJj7572mImy9hVbQqo4XhXGRTj9EoUXuzIu3xIv5GVLiVCizpn2BZ38jCYIVCwonfFjW4SOaPdbgLMtL8LYNfmYbGG18bm6g2ODXicjBBWUApRBaZ/mcW0DgLlujuJmCcACTDezvzeaaxFxf+xw/TniaUDbMbeUtz17mwMK6qtZk6EMENs0g2r8ygB2aESIeq251U0uJZX4c1yHIf7avib79J87QTPSrHy/S+hQfR8aTDJH4ruj0RSYieXxpXh6yuUUSX+IdAQk3PQs+ZQrLueRLwCIRQjDYsepb0osRun8aaTGVFKYI4uJlaIOqbJqc1LUiLAmKOEYSDpUkjCEY/KIR4b9LAPyK5QrwYUGGMs="));
        CORPSES.add(new Corpse("Jovial", Rarity.LEGENDARY, 200,
                Material.NETHERITE_SWORD, false, new ArrayList<>(), "ewogICJ0aW1lc3RhbXAiIDogMTc0ODU3MjcwNDAwMSwKICAicHJvZmlsZUlkIiA6ICIyYWMwZWQ0MDgwNDY0MThiOTdmZDRkM2MyMWNlMDIyMSIsCiAgInByb2ZpbGVOYW1lIiA6ICJLaWxsZXJXaGFsZUsxMDQ1IiwKICAic2lnbmF0dXJlUmVxdWlyZWQiIDogdHJ1ZSwKICAidGV4dHVyZXMiIDogewogICAgIlNLSU4iIDogewogICAgICAidXJsIiA6ICJodHRwOi8vdGV4dHVyZXMubWluZWNyYWZ0Lm5ldC90ZXh0dXJlLzk0OWQ3ZTNlNDYwMWUyZTJkYjYyNGU0ZDMxNTRjNDAyMTgwODVlZTRlNGJkYmUxMjI5MDNjYjgxMmNlYWMyZSIKICAgIH0KICB9Cn0=", "jtF5dJ2cHI2tPCQo2DKuMHmA/u5dnix34pXXsnGD060L1NHcPTdhrr9sDbXQAYCXoulxPCaO2bg9FgdxoAR2ww29l9qCN2qB1rHjnK3ernFlr+nRUWaHGDKU6Ce8EFw8XfbXt3psuauqN3cNX0N738DS0H/pD2SrxA+MQadAaD+gpvVCxe1oBY2qujatYyEp7iyzEBN45DDrE8lJWM1sBuqHpWuabD0T0GsYUzBfOI1beooBo+JsbA4Ni1MWYOIK+/XvksMrWFY6uWETydBq1qBX7iSQeQ+0jBB3lumqKRlCBa1/0Pws/5ziX4xI3OcVs6PN9KXHTOUauiT0R0A+0tez76+JwjKHzwH3EyepXEX7WFg2r5Qo1XDjusiCyCDJxJvWlHadlxC8QyW/LHq+A/V02AqETx253j1ICSXvBA3btTfPWNGUsltLUyzEY5p173i38KEbFnusWsHPDNzzYdWKkGp9kn2axO+yI/nTDCc/rKhxmSOrWxy37TDq8NgULu55IuiD1HgFtVI9TzXViPbbKhUJ/3al5eGvrpuWUxGBSHv692UQX+Ug4P6zXf08uVS2ZFx2q46D63l6XGXQgQHm7RzkWEHFWhk9loMEUsSH5+GArnbXl1zyKIj9kN25e9PFwVvDfigbk2u+xtaRFVjUwcIzM52hooU84mqL0pw="));
    }

    public static Optional<Corpse> getCorpseByName(String name) {
        return CORPSES.stream()
                .filter(c -> c.getDisplayName().equalsIgnoreCase(name))
                .findFirst();
    }

    public static Optional<Corpse> getRandomCorpse() {
        if (CORPSES.isEmpty()) return Optional.empty();

        double rand = RANDOM.nextDouble();
        double cumulative = 0.0;
        Rarity selected = Rarity.COMMON;
        for (Map.Entry<Rarity, Double> entry : RARITY_WEIGHTS.entrySet()) {
            cumulative += entry.getValue();
            if (rand <= cumulative) {
                selected = entry.getKey();
                break;
            }
        }
        Rarity finalSelected = selected;
        List<Corpse> filtered = CORPSES.stream()
                .filter(c -> c.getRarity() == finalSelected)
                .collect(Collectors.toList());
        if (filtered.isEmpty()) return Optional.empty();
        return Optional.of(filtered.get(RANDOM.nextInt(filtered.size())));
    }

    public static List<Corpse> getCorpses() {
        return Collections.unmodifiableList(CORPSES);
    }
}
